---
import type { MarkdownHeading } from "astro"

import { cn } from "@/lib/utils"

interface Props {
  heading: MarkdownHeading
  href: string
  class?: string
}

const { heading, href, class: className } = Astro.props
---

<li role="listitem">
  <a
    href={href}
    class={cn(
      "toc-item block px-2 py-1 text-sm text-muted-foreground",
      "hover:bg-accent/50 hover:text-accent-foreground/50 hover:rounded-sm transition-all duration-200",
      "focus-visible:ring-ring focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none",
      "[&[data-active]]:text-foreground [&[data-active]]:font-medium",
      className
    )}
    data-heading-link={heading.slug}
    data-depth={heading.depth}
  >
    <span class="line-clamp-2">{heading.text}</span>
  </a>
</li>
